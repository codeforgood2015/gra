<section>
    <div data-ng-include data-src="'/angularviews/navbar.html'"></div>
    <div data-ng-include data-src="'/angularviews/login.html'"></div>
    <div style="z-index: 4;">
        <div style="position: fixed; top: 3.5em;width:92.5%;background-color: aliceblue;left:50%;margin-right:-46.25%; transform: translate(-50%, 0%);z-index: 4;"><h4>Total Progress</h4></div>
        <div class="progress" style="position: fixed; top: 6em; width: 92.5%; z-index: 4">
            <div class="progress-bar progress-bar-success" id="TotalBar" role="progressbar" aria-valuenow="{{pointsEarned}}" aria-valuemin="0" aria-valuemax="240" style="width: 0%; position: fixed;height: 20px;overflow:hidden;z-index: 4">
            </div>
        </div>
    </div>
    <center>
        <ul id="filters">
            <li><input type="checkbox" ng-model="easy" />Easy</li>
            <li><input type="checkbox" ng-model="lowcost" />Low Cost</li>
            <li><input type="checkbox" ng-model="visible" />Visible</li>
        </ul>
    </center>
    <div ng-repeat="category in categoryKeys">
        <div id="{{category}}" class="categoryhead" data-spy="affix" data-offset-top="125">
            {{category}}
        </div>
        <div class="progress">
            <div class="progress-bar progress-bar-danger" id="{{category}}Bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="10"></div>
        </div>
        <table>
            <tr ng-repeat="standard in standardsByCategory[category]" style="border: 1px black solid;">
                <td style="width:40%; font-size: 1.4em;">
                    {{$index + 1}}. {{standard.question | reinsertCommas}}
                </td>
                <td style="width: 10%">
                    <center>{{carefulMultiply(standard.option, standard.percentage)}} points</center>
                </td>
                <td>    
                    <div class="col-md-4" style="font-size: 1.4em;" ng-repeat="option in standard.optionList">
                        <input type="radio" ng-model="standard.option" value="{{option.points}}" ng-change="computeScore(standard.category, option.points, $parent.$index, standard.percentage, standard.previousPoints)">{{option.text}}</input>
                    </div>
                    <div class="pull-right col-md-4">
                        <input ng-model="standard.percentage" size="3" ng-change="computePercentScore(standard.category, standard.option, $index, standard.percentage, standard.previousPoints)" />%
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <center <button class='btn btn-primary' ng-click="progressModal()" style="width: 92.5%; position: fixed; bottom: 0px;">View Progress / Save</button> </center>

    <div class="modal fade" id="progressModal" tabindex="-1" role="dialog" aria-labelledby="progressModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <span ng-show="showProgressError" class="error">{{progressError}}</span>
                <button class="btn btn-default " ng-click="save()">Save Progress</button>
            </div>
        </div>
      </div>
    </div>
</section>