<section>
    <div data-ng-include data-src="'/angularviews/navbar.html'"></div>
    <div data-ng-include data-src="'/angularviews/login.html'"></div>
<!--     <div style="z-index: 4;"> -->
        <!--<div style="position: fixed; top: 3.5em;width:92.5%;background-color: aliceblue;left:50%;margin-right:-46.25%; transform: translate(-50%, 0%);z-index: 4;"><h4>Total Progress</h4></div>-->
<!--         <div class="progress" style="position: fixed; top: 19.5em; right: 0; height: 40px;width: 35%; z-index: 4;transform:rotate(-90deg) translate(0em, 9.5em);">
            <div class="progress-bar" id="TotalBar" role="progressbar" aria-valuenow="{{pointsEarned}}" aria-valuemin="0" aria-valuemax="240" style="width: 0%; position: fixed;height: 40px;overflow:hidden;z-index: 4">
            </div>
        </div>
        <div style="position: fixed; top: 19em; right: 0; height: 40px;width: 35%; z-index: 4;transform:rotate(-90deg) translate(-20.5em, 23em);">
            <div style="transform: rotate(90deg)">
                <p>Total: {{pointsEarned}}</p>
                <img src="{{statusImage}}" width="50" height="50" />
            </div>
        </div>
<<<<<<< HEAD
    </div>
    <!--<div id="filters" class="roundBottom">
        <span>Filters</span>
        <ul>
=======
    </div> -->
    <!--<center>
        <ul id="filters">
>>>>>>> 0b7675a2a7af42e94b81c7e878d83f3779abdd1a
            <li><input type="checkbox" ng-model="obj.easy" />Easy</li>
            <li><input type="checkbox" ng-model="obj.lowcost" />Low Cost</li>
            <li><input type="checkbox" ng-model="obj.visible" />Visible</li>
        </ul>
    </div>
    <div style="width:92.5%;padding-top: 1.5em;" ng-repeat="category in categoryKeys">
        <div id="{{category}}" class="categoryhead" data-spy="affix" data-offset-top="125">
            {{category}}
    </center>-->

<div id="wrapper">
    <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
            <center>
                <li class="sidebar-brand"><button class="btn btn-default cat-button" id="cat-total"> 
                    <table>
                        <tr>
                            <td style="width:100%">
                                <div>Total </div><sup class="large-numerator">{{pointsEarned}}</sup>&frasl;<sub>100</sub>
                            </td>
                            <td ng-if="stars === 0" style="padding-top:0px; padding-bottom:0px;">
                                <div>&#10025</div>
                                <div>&#10025</div>
                                <div>&#10025</div>
                                <div>&#10025</div>
                            </td>
                            <td ng-if="stars === 2" style="padding-top:0px; padding-bottom:0px;">
                                <div class="cat-star-gold">&#x2605</div>
                                <div class="cat-star-gold">&#x2605</div>
                                <div>&#10025</div>
                                <div>&#10025</div>
                            </td>
                            <td ng-if="stars === 3" style="padding-top:0px; padding-bottom:0px;">
                                <div class="cat-star-gold">&#x2605</div>
                                <div class="cat-star-gold">&#x2605</div>
                                <div class="cat-star-gold">&#x2605</div>
                                <div class="cat-star">&#10025</div>
                            </td>
                            <td ng-if="stars === 4" style="padding-top:0px; padding-bottom:0px;">
                                <div class="cat-star-gold">&#x2605</div>
                                <div class="cat-star-gold">&#x2605</div>
                                <div class="cat-star-gold">&#x2605</div>
                                <div class="cat-star-gold">&#x2605</div>
                            </td>
                        </tr>
                    </table>
                </button></li>
                <li ng-repeat="category in categoryKeys" class="sidebar-brand">
                    <button ng-if="standardsByCategory[category].value >= 10" class="btn btn-default cat-button cat-button-success" scroll-to="{{category}}" id="{{category}}Button"> 
                    <div>{{category}} </div><sup class="large-numerator">{{standardsByCategory[category].value}}</sup>&frasl;<sub>10</sub>
                    </button>
                    <button ng-if="standardsByCategory[category].value < 10" class="btn btn-default cat-button cat-button-danger" scroll-to="{{category}}" id="{{category}}Button"> 
                    <div>{{category}} </div><sup class="large-numerator">{{standardsByCategory[category].value}}</sup>&frasl;<sub>10</sub>
                    </button>
                </li>
            </center>
        </ul>
    </div>
    <div id="page-content-wrapper">
        <div class="page-content">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div style="width:92.5%" ng-repeat="category in categoryKeys">
                                    <div id="{{category}}" class="categoryhead" data-spy="affix" data-offset-top="125">
                                        {{category}}
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar {{widths[category].class || 'progress-bar-danger'}}" id="{{category}}Bar" role="progressbar" aria-valuenow="{{widths[category].valuenow}}" aria-valuemin="0" aria-valuemax="10" style="width:{{widths[category].width}}">{{widths[category].message}}</div>
                                    </div>
                                    <table class="table table-striped">
                                        <tr ng-repeat="standard in standardsByCategory[category].questions | tags:obj" style="border: 1px black solid;">
                                            <td style="width:50%; font-size: 1.2em;" align = "right">
                                                <div id = "iQ">{{$index + 1}}. {{standard.question | reinsertCommas}} </div>
                                                <div id = "iconRow" class "pull-right">
                                                    <div id = "topIcon">
                                                    <div class = "icon" ng-click="extraInfoModal(category, standard.index, 'legislation')" ng-show="standard['legislation'].message && standard['legislation'].message != 'None currently available'"><img src = "../infoImages/legislation.jpg"></div>
                                                    <div class = "icon" ng-click="extraInfoModal(category, standard.index, 'rebateincentives')" ng-show="standard['rebateincentives'].message && standard['rebateincentives'].message != 'None currently available'"><img src = "../infoImages/roi.jpg"></div>
                                                    </div>

                                                    <div id = "bottomIcon">
                                                    <div class = "icon" ng-click="extraInfoModal(category, standard.index, 'ecofacts')" ng-show="standard['ecofacts'].message && standard['ecofacts'].message != 'None currently available'"><img src = "../infoImages/environmental.jpg"></div>
                                                    <div class = "icon" ng-click="extraInfoModal(category, standard.index, 'solutions')" ng-show="standard['solutions'].message && standard['solutions'].message != 'None currently available'"><img src = "../infoImages/greenSolutions.jpg"></div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td style = "width:40%">
                                                <div class="col-md-4" style="font-size: 1.0em;" ng-repeat="option in standard.optionList">
                                                    <input type="radio" ng-model="standard.option" value="{{option.points}}" ng-change="computeScore(standard.category, option.points, standard.index, standard.percentage, standard.previousPoints)">{{option.text}}</input>
                                                </div>

<!--                                                 <div class="pull-right col-md-4">
                                                    <input ng-model="standard.percentage" size="3" ng-change="computePercentScore(standard.category, standard.option, standard.index, standard.percentage, standard.previousPoints)" />%
                                                </div> -->
                                            </td>
                                            <td style="width: 10%">
                                                <center ng-class = "{'boldPoints': standard.option > 0}">{{carefulMultiply(standard.option, standard.percentage)}} pts</center>

                                            </td>
                                        </tr>
                                    </table>
                                    <center> <button class='btn btn-primary' ng-click="progressModal()" style="width: 75%; position: fixed; bottom: 0px; right: 250px;">View Progress / Save</button> </center>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!-- 
    <div id='page-content-wrapper'>
        <div style="width:92.5%" ng-repeat="category in categoryKeys">
            <div id="{{category}}" class="categoryhead" data-spy="affix" data-offset-top="125">
                {{category}}
            </div>
            <div class="progress">
                <div class="progress-bar {{widths[category].class || 'progress-bar-danger'}}" id="{{category}}Bar" role="progressbar" aria-valuenow="{{widths[category].valuenow}}" aria-valuemin="0" aria-valuemax="10" style="width:{{widths[category].width}}">{{widths[category].message}}</div>
            </div>
            <table class="table table-striped">
                <tr ng-repeat="standard in standardsByCategory[category].questions | tags:obj" style="border: 1px black solid;">
                    <td style="width:40%; font-size: 1.4em;">
                        {{$index + 1}}. {{standard.question | reinsertCommas}} <span class="glyphicon glyphicon-info-sign" ng-click="extraInfoModal(category, $index)"></span>
                    </td>
                    <td style="width: 10%">
                        <center>{{carefulMultiply(standard.option, standard.percentage)}} points</center>
                    </td>
                    <td>
                        <div class="col-md-4" style="font-size: 1.4em;" ng-repeat="option in standard.optionList">
                            <input type="radio" ng-model="standard.option" value="{{option.points}}" ng-change="computeScore(standard.category, option.points, $parent.$index, standard.percentage, standard.previousPoints)">{{option.text}}</input>
                        </div>
                        <div class="pull-right col-md-4">
                            <input ng-model="standard.percentage" size="3" ng-change="computePercentScore(standard.category, standard.option, $index, standard.percentage, standard.previousPoints)" />%
                        </div>
                    </td>
                </tr>
            </table>
        </div>
<<<<<<< HEAD
        <table class="table table-striped">
            <tr ng-repeat="standard in standardsByCategory[category].questions | tags:obj" style="border: 1px black solid;">
                <td style="width:40%; font-size: 1.4em;">
                    {{$index + 1}}. {{standard.question | reinsertCommas}} <span class="glyphicon glyphicon-info-sign" ng-click="extraInfoModal(category, $index)"></span>
                </td>
                <td style="width: 10%">
                    <center>{{carefulMultiply(standard.option, standard.percentage)}} points</center>
                </td>
                <td>
                    <div class="col-md-4" style="font-size: 1.4em;" ng-repeat="option in standard.optionList">
                        <input type="radio" ng-model="standard.option" value="{{option.points}}" ng-change="computeScore(standard.category, option.points, standard.index, standard.percentage, standard.previousPoints)">{{option.text}}</input>
                    </div>
                    <div class="pull-right col-md-4">
                        <input ng-model="standard.percentage" size="3" ng-change="computePercentScore(standard.category, standard.option, standard.index, standard.percentage, standard.previousPoints)" />%
                    </div>
                </td>
            </tr>
        </table>
=======
>>>>>>> 0b7675a2a7af42e94b81c7e878d83f3779abdd1a
    </div>
</div> -->


    <div class="modal fade" id="progressModal" tabindex="-1" role="dialog" aria-labelledby="progressModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <span ng-show="showProgressError" class="error">{{progressError}}</span>
                <button class="btn btn-default " ng-click="save()">Save Progress</button>
            </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="tutorialModal" tabindex="-1" role="dialog" aria-labelledby="tutorialModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <p>Here, we have a beatifully simple list view where you may quickly and easily answer questions about the GREEN-ness of your restaurant.</p>
                    <p>You may click in the boxeds to the side to scroll to that category's questions. As you answer questions, you will see your progress in those boxes and in the meters beneath the category titles.</p>
                    <p>After you've finished answering questions or if you would like to take a break, please use the Save button at the bottom.</p>
                    <button class="btn btn-warning pull-left" ng-click="endTutorial()">Ignore Tutorial</button><button class="btn btn-info pull-right" ng-click="continueTutorial()">Proceed</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="extraInfoModal" tabindex="-1" role="dialog" aria-labelledby="extraInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <!-- Bottom accordion drop down-->
                    <div class="container-fluid etcetera">
                        <h3 class="row etcheader roundTop" ng-class='{"round":!etcs[etc].open}' ng-click="etcs[etc].open = !etcs[etc].open;">
                            {{etcs[etc].header}}
                        </h3>
                        <div class="row etcbody roundBottom" ng-show="etcs[etc].open" style="font-size: 1.1em">
                            {{modalStandard[etc].message | reinsertCommas}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="filterInfoModal" tabindex="-1" role="dialog" aria-labelledby="extraInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <div id="filters">
                        <center>
                            <span>Filters</span>
                            <ul>
                                <li><input type="checkbox" ng-model="obj.easy" />Easy</li>
                                <li><input type="checkbox" ng-model="obj.lowcost" />Low Cost</li>
                                <li><input type="checkbox" ng-model="obj.visible" />Visible</li>
                            </ul>
                        </center> 
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>